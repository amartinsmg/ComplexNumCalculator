(()=>{"use strict";var e={698:(e,t,r)=>{r.r(t)}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,r),n.exports}r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};r(698),window.onload=async function(){const e=await WebAssembly.instantiateStreaming(await fetch("assets/program.wasm")),t=document.querySelector("#operands-form"),r=Array.from(document.querySelectorAll(".operand-input")),a=document.querySelector("#opcode"),o=document.querySelector("#output-data"),{memory:n,cadd:s,csub:u,cmul:c,cdiv:d}=e.instance.exports;r.forEach(((e,t,r)=>{e.addEventListener("keydown",(e=>{const a=r[t+1];"Enter"===e.key&&a&&(e.preventDefault(),a.value="",a.focus())}))})),t.addEventListener("submit",(e=>{e.preventDefault(),o.innerHTML="";const t=r.map((e=>parseFloat(e.value)));let i;switch(a.value){case"add":i=s(...t);break;case"sub":i=u(...t);break;case"mul":i=c(...t);break;case"div":i=d(...t);break;default:throw"Invalid option"}const l=function(e,t){const r=e=>e.toFixed(6).replace(/\.?0+$/,""),a=r(e),o=1===t?"":-1==t?"-":r(t);return 0===e?0===t?"0":`${o}i`:0===t?`${a}`:t>0?`${a} + ${o}i`:`${a} ${o}i`}(...(e=>{const t=new Float64Array(n.buffer,e,2);return Array.from(t)})(i)),p=MathJax.tex2svg(l);o.appendChild(p)}))}})();