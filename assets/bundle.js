(()=>{"use strict";var e={698:(e,t,r)=>{r.r(t)}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};r(698),window.addEventListener("load",(async function(){const e=document.querySelector("#operands-form"),t=Array.from(document.querySelectorAll(".operand-input")),r=document.querySelector("#opcode"),n=document.querySelector("#output-data");try{const a=await WebAssembly.instantiateStreaming(await fetch("assets/program.wasm")),{memory:o,cadd:s,csub:c,cmul:i,cdiv:u}=a.instance.exports,d=e=>{const t=new Float64Array(o.buffer,e,2);return Array.from(t)};t.forEach(((e,t,r)=>{e.addEventListener("keydown",(e=>{const n=r[t+1];"Enter"===e.key&&n&&(e.preventDefault(),n.value="",n.focus())}))})),e.addEventListener("submit",(e=>{e.preventDefault();try{n.innerHTML="";const e=t.map((e=>parseFloat(e.value)));let a;switch(r.value){case"add":a=s(...e);break;case"sub":a=c(...e);break;case"mul":a=i(...e);break;case"div":a=u(...e);break;default:throw"Invalid option"}const o=function(e,t){const r=e=>e.toFixed(6).replace(/\.?0+$/,""),n=r(e),a=1===t?"":-1==t?"-":r(t);return 0===e?0===t?"0":`${a}i`:0===t?`${n}`:t>0?`${n} + ${a}i`:`${n} ${a}i`}(...d(a)),l=MathJax.tex2svg(o);n.appendChild(l)}catch(e){n.textContent=e instanceof Error?e.message:String(e)}}))}catch(e){n.textContent=e instanceof Error?e.message:String(e)}}))})();